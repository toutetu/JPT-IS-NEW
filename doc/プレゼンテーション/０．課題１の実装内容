# 課題１の実装内容

## 📋 中学校向け連絡帳システム「JPT-IS-NEW」

生徒が日々の学習記録や体調・メンタル状態を記録し、担任が確認・既読処理を行い、管理者がユーザーやクラスを管理する学校向けWebアプリケーション

---

## 👥 3つのユーザーロール × 全16機能

| ロール | 機能数 | 主な機能 |
|--------|:-----:|---------|
| **生徒** | 4 | 連絡帳作成・編集・一覧表示・提出カレンダー |
| **先生** | 3 | 提出状況確認・既読処理・生徒別過去記録閲覧 |
| **管理者** | 9 | ユーザー管理・クラス管理・CSV一括登録・割当管理 |

---

## 💡 主要な実装の工夫

### 1. **前登校日ロジック**
月曜日は前の金曜日を自動設定し、土日を考慮した日付計算を実装

### 2. **既読後の編集防止**
先生が確認した内容の信頼性を保証するため、既読後は生徒が編集できないよう制御

### 3. **担当外アクセス防止**
担任は担当クラスの生徒のみアクセス可能にし、プライバシーを保護（403エラー）

### 4. **MVC アーキテクチャの厳守**
Model / View / Controller / Service 層を明確に分離し、保守性の高いコード設計

### 5. **過去記録の保持**
在籍変更・担任変更時も過去の履歴データを保持し、長期的なデータ活用を可能に

---

## 🛠️ 技術スタック

**バックエンド**: Laravel 12.35.0 / PHP 8.2.12 / MySQL  
**フロントエンド**: Bootstrap 5 / Blade / Vite  
**デプロイ**: Laravel Cloud（GitHub連携・自動デプロイ）

---

## 🎨 UI/UX の特徴

- 👍 **視覚的な既読表示**（マーク表示）
- 🎨 **体調・メンタルスコアの色分け**（緑/黄/赤）
- 📅 **曜日付き日付表示**（例：2024-10-30 (水)）
- 📱 **レスポンシブデザイン**（PC・タブレット・スマホ対応）
- 🇯🇵 **完全日本語化**（エラーメッセージ含む）

---

## 📊 データベース設計

**6テーブル構成**: users / grades / classrooms / enrollments / homeroom_assignments / daily_logs

**リレーションシップ**:
- 生徒 ⇔ 在籍 ⇔ クラス
- 先生 ⇔ 担任割当 ⇔ クラス
- 生徒 ⇔ 連絡帳（既読フラグ・既読日時）

---

## ✅ 完成度

- **全機能実装完了**（生徒4機能・先生3機能・管理者9機能）
- **自動テスト実装**（Feature Test完備）
- **本番環境デプロイ済み**（Laravel Cloud）
- **ドキュメント完備**（ユーザー向けマニュアル・開発者ガイド）

---

## 🔮 次期開発計画

**学籍番号ベース認証への移行**（約5時間の実装予定）  
中学生向けに、メールアドレスから学籍番号での認証に変更し、より現実的な運用を実現

---

**詳細**: `doc/開発メモ/実装内容.md` を参照  
**デプロイURL**: https://contact-book-main1-flsrse.laravel.cloud/
