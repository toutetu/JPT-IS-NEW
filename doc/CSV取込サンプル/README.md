# CSV取込サンプル

このディレクトリには、ContactBook アプリケーションで使用するCSVファイルのサンプルが含まれています。

## ファイル一覧

### 1. 新規ユーザー登録用CSVサンプル.csv
**用途**: 複数のユーザーを一度に登録するためのCSVファイル

**形式**:
```
名前,メール,ロール,パスワード
```

**例**:
```csv
山田太郎,yamada@example.com,student,Passw0rd!
佐藤花子,sato@example.com,student,Passw0rd!
```

**注意事項**:
- ヘッダー行は不要
- メールアドレスは重複不可
- パスワードは8文字以上
- ロールは student, teacher, admin のいずれか
- 文字コードはUTF-8

**使用方法**:
1. ユーザー一覧画面で「新規ユーザー作成（CSV一括登録）」ボタンをクリック
2. CSVファイルを選択
3. 「インポート」ボタンをクリック

---

### 2. クラス割り当て用CSVサンプル.csv
**用途**: 既存の生徒のクラス割り当てを一括変更するためのCSVファイル

**形式**:
```
メールアドレス,クラス名
```

**例**:
```csv
student001@example.com,1年A組
student002@example.com,1年A組
```

**注意事項**:
- ヘッダー行は不要
- メールアドレスは既存の生徒のものである必要があります
- クラス名は登録済みクラス名と完全一致である必要があります
- 文字コードはUTF-8

**使用方法**:
1. ユーザー一覧画面で「在籍を変更（CSV一括登録）」ボタンをクリック
2. CSVファイルを選択
3. 「インポート」ボタンをクリック

---

## CSVファイルの作成方法

### Excelで作成する場合

1. Excelでデータを入力
2. 「名前を付けて保存」を選択
3. ファイルの種類で「CSV UTF-8（コンマ区切り）(*.csv)」を選択
4. ファイル名を入力して保存

### テキストエディタで作成する場合

1. テキストエディタを開く
2. データを入力（カンマ区切り）
3. 文字コードをUTF-8で保存
4. ファイルの拡張子を `.csv` に変更

---

## サンプルデータについて

### 新規ユーザー登録用CSVサンプル
- 生徒40名分のデータを含みます
- 各生徒には同じパスワード（`Passw0rd!`）が設定されています
- メールアドレスは `example.com` ドメインを使用しています

### クラス割り当て用CSVサンプル
- 生徒40名分のデータを含みます
- 6つのクラス（1年A組、1年B組、2年A組、2年B組、3年A組、3年B組）に割り当てます
- 各クラスに8名ずつ割り当てられています

---

## よくある質問

### Q1: CSVファイルの文字コードを確認する方法は？
**A**: テキストエディタで開いて、エンコードを確認してください。UTF-8である必要があります。

### Q2: エクスポートしたCSVが文字化けする
**A**: Excelでエクスポートする場合、「CSV UTF-8（コンマ区切り）」を選択してください。

### Q3: 1つのCSVに複数のロールを含めることはできますか？
**A**: はい。新規ユーザー登録用CSVには、student、teacher、adminのいずれかのロールを指定できます。

### Q4: クラス名を間違えた場合はどうなりますか？
**A**: エラーメッセージが表示され、その行のインポートは失敗します。正しいクラス名で再度インポートしてください。

### Q5: 既存のユーザーをCSVで更新することはできますか？
**A**: いいえ。CSVインポートは新規ユーザーの登録のみ対応しています。既存ユーザーの情報を変更する場合は、個別に編集してください。

---

## トラブルシューティング

### インポートエラーが発生する場合

1. **CSVファイルの形式を確認**
   - カンマ区切りになっているか
   - 各行のカラム数が正しいか
   - 不要な空白が入っていないか

2. **文字コードを確認**
   - UTF-8で保存されているか
   - BOMが付いていないか

3. **データの整合性を確認**
   - メールアドレスの形式が正しいか
   - パスワードが8文字以上か
   - クラス名が登録済みのものと一致しているか

4. **エラーメッセージを確認**
   - インポート結果に表示されるエラーメッセージを確認
   - 該当する行を修正して再度インポート

---

## 更新履歴

- 2025-01-XX: 初版作成
